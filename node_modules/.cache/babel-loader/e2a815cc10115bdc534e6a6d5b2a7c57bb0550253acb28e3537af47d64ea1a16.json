{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\nexport function changeAccount(account) {\n  return {\n    type: actionTypes.CHANGE_ACCOUNT,\n    payload: account\n  };\n}\nexport function getAccountsSuccess(accounts) {\n  return {\n    type: actionTypes.GET_ACCOUNTS_SUCCESS,\n    payload: accounts\n  };\n}\nexport function getTotalBalanceSuccess(balance) {\n  return {\n    type: actionTypes.GET_TOTAL_BALANCE_SUCCESS,\n    payload: balance\n  };\n}\nexport function getTransactionHistorySuccess(history) {\n  return {\n    type: actionTypes.GET_TRANSACTION_HISTORY_SUCCESS,\n    payload: history\n  };\n}\nexport function getAccounts() {\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const accessToken = \"userInfo.access_token\";\n  return function (dispatch) {\n    const apiUrl = \"http://127.0.0.1:8070/app/dashboard\";\n    axios.get(apiUrl, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer: \" + accessToken\n      }\n    }).then(response => dispatch(getAccountsSuccess(response.data.userAccounts))).catch(error => {\n      console.error(error);\n    });\n  };\n}\nexport function getTotalBalance() {\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const accessToken = \"userInfo.access_token\";\n  return function (dispatch) {\n    const apiUrl = \"http://127.0.0.1:8070/app/dashboard\";\n    axios.get(apiUrl, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer: \" + accessToken\n      }\n    }).then(response => dispatch(getTotalBalanceSuccess(response.data.totalBalance))).catch(error => {\n      console.error(error);\n    });\n  };\n}\nexport function getTransactionHistory() {\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const accessToken = userInfo.access_token;\n  return function (dispatch) {\n    const apiUrl = \"http://127.0.0.1:8070/app/transaction_history\";\n    axios.get(apiUrl, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer: \" + accessToken\n      }\n    }).then(response => dispatch(getTransactionHistorySuccess(response.data.transaction_history))).catch(error => {\n      console.error(error);\n    });\n  };\n}","map":{"version":3,"names":["actionTypes","axios","changeAccount","account","type","CHANGE_ACCOUNT","payload","getAccountsSuccess","accounts","GET_ACCOUNTS_SUCCESS","getTotalBalanceSuccess","balance","GET_TOTAL_BALANCE_SUCCESS","getTransactionHistorySuccess","history","GET_TRANSACTION_HISTORY_SUCCESS","getAccounts","userInfo","JSON","parse","localStorage","getItem","accessToken","dispatch","apiUrl","get","headers","Authorization","then","response","data","userAccounts","catch","error","console","getTotalBalance","totalBalance","getTransactionHistory","access_token","transaction_history"],"sources":["/home/abdullah/Documents/zakat development area/مشروع اللجان المجتمعية/zakat-react-app/src/redux/actions/accountActions.js"],"sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\n\nexport function changeAccount(account) {\n  return { type: actionTypes.CHANGE_ACCOUNT, payload: account };\n}\n\nexport function getAccountsSuccess(accounts) {\n  return { type: actionTypes.GET_ACCOUNTS_SUCCESS, payload: accounts };\n}\n\nexport function getTotalBalanceSuccess(balance){\n  return {type: actionTypes.GET_TOTAL_BALANCE_SUCCESS, payload: balance}\n}\n\nexport function getTransactionHistorySuccess(history){\n  return {type: actionTypes.GET_TRANSACTION_HISTORY_SUCCESS, payload: history}\n}\n\nexport function getAccounts() {\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const accessToken = \"userInfo.access_token\";\n\n  return function (dispatch) {\n    const apiUrl = \"http://127.0.0.1:8070/app/dashboard\";\n    axios\n      .get(apiUrl, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer: \" + accessToken,\n        },\n      })\n      .then((response) =>\n        dispatch(getAccountsSuccess(response.data.userAccounts))\n      )\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n}\n\nexport function getTotalBalance(){\n\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const accessToken = \"userInfo.access_token\";\n\n  return function (dispatch) {\n    const apiUrl = \"http://127.0.0.1:8070/app/dashboard\";\n    axios\n      .get(apiUrl, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer: \" + accessToken,\n        },\n      })\n      .then((response) =>\n        dispatch(getTotalBalanceSuccess(response.data.totalBalance))\n      )\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n}\n\nexport function getTransactionHistory() {\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const accessToken = userInfo.access_token;\n\n  \n\n\n  return function (dispatch) {\n    const apiUrl = \"http://127.0.0.1:8070/app/transaction_history\";\n    axios\n      .get(apiUrl, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer: \" + accessToken,\n        },\n      })\n      .then((response) =>\n        dispatch(getTransactionHistorySuccess(response.data.transaction_history))\n      )\n      .catch((error) => {\n        console.error(error);\n      });\n\n\n\n};}\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}